@model IEnumerable<HMS.Entities.Booking>

@{
    
}

@if (Model != null && Model != null && Model.Count() > 0)
{
    //<b class="">@Model.totalRecord result(s) found</b>
    <table class="table table-striped table-responsive-xl table-sm">
        <thead class="bg-secondary text-white"> 
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.GuestName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.FromDate)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.ToDate)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Duration)
                </th>
                <th>
                    #Accomodation(s)
                </th>
                @*<th>
                @Html.DisplayNameFor(model => model.BreakFast)
            </th>*@
                <th>
                    Accomodation Detail
                    @*@Html.DisplayNameFor(model => model.BookingDetails.Select(a => a.AccomodationId))*@
                </th>
                <th>
                   
                    @Html.DisplayNameFor(model => model.Status)
                </th>
                <th>
                   
                    @Html.DisplayNameFor(model => model.PaymentInfo.PaymentStatus)
                </th>
                <th>
                    Actions
                    @*@Html.DisplayNameFor(model => model.BookingDetails.Select(a => a.AccomodationId))*@
                </th>
                @*<th>
                @Html.DisplayNameFor(model => model.Adult)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Children)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.NoOfAccomodation)
            </th>*@
                @*<th>
                @Html.DisplayNameFor(model => model.Email)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Phone)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Address)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.SpecialNote)
            </th>*@

            </tr>
        </thead>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.GuestName)
                </td>
                <td>
                    @item.FromDate.ToShortDateString()
                </td>
                <td>
                    @item.ToDate.ToShortDateString()
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Duration) Night(s)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.NoOfAccomodation) Accomodation(s)
                </td>
                @*<td>
                        @Html.DisplayFor(modelItem => item.BreakFast)
                    </td>*@
                <td>
                    @if (item.BookingDetails != null)
                    {
                        <select class="form-control">


                            @foreach (var t in item.BookingDetails)
                            {
                                @*<span class="btn btn-info btn-xs">
                                        @t.Accomodation.Name <span>,</span>  @t.Accomodation.AccomodationPackage.Name
                                    </span>*@
                                <option>
                                    @t.Accomodation.Name - @t.Accomodation.AccomodationPackage.Name
                                </option>


                            }
                        </select>
                    }

                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Status)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.PaymentInfo.PaymentStatus)
                </td>
                @*<td>
                        @Html.DisplayFor(modelItem => item.Adult)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Children)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.NoOfAccomodation)
                    </td>*@
                @*<td>
                        @Html.DisplayFor(modelItem => item.Email)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Phone)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Address)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.SpecialNote)
                    </td>*@
                <td>
                    <div class="dropdown">
                        <button class="btn btn-primary btn-sm dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Action
                        </button>
                        <div class="dropdown-menu dropdown-menu-left" aria-labelledby="dropdownMenu2">
                            <button type="button" data-href="@Url.Action("Action", "Bookings", new {Id = item.Id})"
                                    class="dropdown-item data-btn" data-toggle="modal" data-target="#actionModal">
                                <i class="fas fa-pen mr-1"></i>Edit
                            </button>
                            <button type="button" data-href="@Url.Action("Action", "Bookings", new {Id = item.Id, isDelete = true})"
                                    class="dropdown-item data-btn" data-toggle="modal" data-target="#actionModal">
                                <i class="fas fa-info-circle mr-1"></i>Details
                            </button>
                        </div>
                    </div>

                    @*<button type="button" data-href="@Url.Action("Action", "Bookings", new {Id = item.Id})"
                                class="data-btn btn btn-primary" data-toggle="modal" data-target="#actionModal">
                            <i class="fas fa-pen mr-1"></i>Edit
                        </button>
                        <button type="button" data-href="@Url.Action("Action", "Bookings", new {Id = item.Id, isDelete = true})"
                                class="data-btn btn btn-danger" data-toggle="modal" data-target="#actionModal">
                            <i class="fas fa-trash-alt mr-1"></i>Delete
                        </button>
                        | @Html.ActionLink("Details", "Details", new {id = item.Id})*@

                </td>
            </tr>
        }

    </table>

    

}
else
{
    <div class="alert alert-warning" role="alert">
        Sorry! no Record exist!
    </div>
}
